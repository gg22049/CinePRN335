<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
   <title>Tipos de Productos</title>
</h:head>

<h:body>
   <h:form>
      <p:dataTable id="frmDatos" var="r" value="#{frmTipoProducto.modelo}"
                   sortMode="single" selection="#{frmTipoProducto.registro}"
                   paginatorPosition="bottom" reflow="true" rowKey="#{r.idTipoProducto}"
                   paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                   paginator="true" rows="10" styleClass="dt-products" lazy="true">
         <f:facet name="header">
            <div class="products-table-header">
               <div>
                  <h1>Tipos de Productos</h1>
               </div>
               <span class="filter-container ui-input-icon-left" > <i class="pi pi-search"></i>
                        <p:inputText id="search" onkeyup="PF('dtProducts').filter()" placeholder="Search" />
                    </span>
            </div>
         </f:facet>

         <p:ajax event="rowSelect" update="pnlDetalle" process="frmDatos"/>
         <p:ajax event="rowUnselect" update="pnlDetalle" process="frmDatos"/>

         <p:column headerText="ID" sortBy="#{r.idTipoProducto}">
            <h:outputText value="#{r.idTipoProducto}"/>
         </p:column>
         <p:column headerText="Nombre" sortBy="#{r.nombre}">
            <h:outputText value="#{r.nombre}"/>
         </p:column>
         <p:column headerText="Activo" sortBy="#{r.activo}">
            <h:outputText value="#{r.activo?'Activo':'Inactivo'}"/>
         </p:column>
         <p:column headerText="Comentarios" sortBy="#{r.comentarios}">
            <h:outputText value="#{r.comentarios}"/>
         </p:column>
         <p:column exportable="false" headerText="Administrar">
            <p:commandButton id="btnModificar" icon="pi pi-pencil"  ajax="true" disabled="#{frmTipoProducto.registro==null}"
                             styleClass="edit-button rounded-button ui-button-success" process="@this" update=":pnlDetalle"
                             actionListener="#{frmTipoProducto.btnModificarHandler}"/>
            <p:commandButton id="btnEliminar" class="ui-button-warning rounded-button" icon="pi pi-trash"
                             process="@this" disabled="#{frmTipoProducto.registro==null}"
                             update="datos" ajax="true" actionListener="#{frmTipoProducto.btnEliminarHandler}">
            </p:commandButton>
         </p:column>
      </p:dataTable>
      <h:panelGroup id="btnDatos">
         <p:commandButton value="Nuevo" icon="pi pi-plus" actionListener="#{frmTipoProducto.btnNuevoHandler}"
                          update="pnlDetalle"
                          styleClass="ui-button-success" style="margin-right: .5rem">
            <p:resetInput target=":pnlDetalle" />
         </p:commandButton>
         <p:commandButton value="Cancelar" icon="pi pi-check" actionListener="#{frmTipoProducto.btnCancelarHandler}"
                          styleClass="ui-button-secondary" style="margin-right: .5rem" update=":pnlDetalle"/>
      </h:panelGroup>
   </h:form>

   <h:panelGroup id="pnlDetalle">
      <h:panelGrid>
         <h:messages showDetail="false" showSummary="true" />
      </h:panelGrid>
      <h:form id="frmDetale" rendered="#{not empty frmTipoProducto.registro}">
         <h:panelGrid columns="2">
            <h:outputLabel value="ID" for="txtId"/>
            <h:inputText id="txtId" value="#{frmTipoProducto.registro.idTipoProducto}" readonly="true" disabled="true"/>
            <h:outputLabel value="Nombre" for="txtNombre"/>
            <h:inputText size="50" id="txtNombre" value="#{frmTipoProducto.registro.nombre}"/>
            <h:outputLabel value="Activo" for="chkActivo"/>
            <h:selectBooleanCheckbox id="chkActivo" value="#{frmTipoProducto.registro.activo}"/>
            <h:outputLabel value="Comentarios" for="txtComentarios"/>
            <h:inputTextarea size="50" id="txtComentarios" value="#{frmTipoProducto.registro.comentarios}"/>
         </h:panelGrid>
         <h:panelGrid>
            <p:commandButton value="Modificar" icon="pi pi-check" actionListener="#{frmTipoProducto.btnModificarHandler}"
                             styleClass="ui-button-secondary" style="margin-right: .5rem" update="@all" process="pnlDetalle"/>
            <p:commandButton value="Guardar" icon="pi pi-check" actionListener="#{frmTipoProducto.btnGuardarHandler}"
                             styleClass="ui-button-success" style="margin-right: .5rem" update="@all" process="pnlDetalle"/>
            <p:commandButton value="Eliminar" icon="pi pi-check" actionListener="#{frmTipoProducto.btnEliminarHandler}"
                             styleClass="ui-button-danger" style="margin-right: .5rem" update="@all" process="pnlDetalle"/>
         </h:panelGrid>
      </h:form>
   </h:panelGroup>
</h:body>
</html>